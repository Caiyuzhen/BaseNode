<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
		// ğŸ‘‡è®°å¾—è¦ç”¨ / å¼€å¤´ï¼
		href="/css/bootstrap.css" 
		rel="stylesheet"
    />
    <style>
		label {
			font-weight: normal;
		}
			.panel-body .glyphicon-remove{
				display: none;
		}
			.panel-body:hover .glyphicon-remove{
				display: inline-block
		}
		.text-rightIcon {
			position: relative;
			height: 20px;
		}
		.btn-container {
			display: flex;
			flex-direction: row;
			gap: 16px;
		}
		.line-left {
			position: absolute;
			right: -612px;
			top: 12px
			cursor: pointer;
			background-color: #892392;
			height: 4px;
			width: 28px;
			rotate: 45deg;
		}
		.line-right {
			position: absolute;
			right: -612px;
			cursor: pointer;
			background-color: #892392;
			height: 4px;
			width: 28px;
			rotate: 135deg;
		}
    </style>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-lg-8 col-lg-offset-2">
			<div class="col-xs-6">
          		<h2> âœï¸ è®°è´¦æœ¬ </h2>
				<div class="btn-container">
		
					<a href='/account/create' class="btn btn-primary">æ·»åŠ è´¦å•</a> 
			
					<form action="/logout" method="post">
						<button class="btn btn-danger">é€€å‡ºç™»å½•</button>
					</form>
				</div>
		  	</div>
			<p>
				<br>
				account ç”±è·¯ç”±ä¼ é€’æ•°æ®, ğŸš€ğŸ‘‡ item.type === '-1' è¡¨ç¤ºæ”¯å‡º, å¦åˆ™å°±æ˜¯æ”¶å…¥
				<br>
				href="/account/< % = item.id  % > è¡¨ç¤ºåˆ é™¤è´¦å•æ—¶å‘é€è·¯ç”±è¯·æ±‚, ä¼ å…¥ id
			</p>
          <hr />
          <div class="accounts">

            <% accounts.forEach(item => { %>
				<div class="panel <%= item.type === -1 ? 'panel-danger' : 'panel-success'  %>">
				<div class="panel-heading"><%= item.time.toLocaleDateString() %></div>
				<div class="panel-body">
				<div class="col-xs-2"><%= item.title %></div>
					<div class="col-xs-6"><%= item.remarks %></div>
					<div class="col-xs-2 text-center">

					<span class="label <%= item.type=== -1 ? 'label-warning' : 'label-success'  %>"><%= item.type=== -1 ? 'æ”¯å‡º' : 'æ”¶å…¥'  %></span>
					</div>
					<div class="col-xs-2 text-right"><%= item.account %> å…ƒ</div>

					<div class="col-xs-2 text-rightIcon">
						<a class="delBtn" href="/account/<%= item._id %>">	
							<span
								class="glyphicon glyphicon-remove line-left"
								aria-hidden="false"
							></span>
							<span
								class="glyphicon glyphicon-remove line-right"
								aria-hidden="false"
							></span>
						</a>
					</div>
				</div>
				</div>
            <% }) %>
            
          </div>
        </div>
      </div>
    </div>
  </body>

  <script>
	// è·å–æ‰€æœ‰çš„åˆ é™¤æŒ‰é’®
	let delBtns = document.querySelectorAll('.delBtn')
	console.log(delBtns)
	delBtns.forEach(item => {
		item.addEventListener('click', (e) => {
			if(confirm('ç¡®è®¤åˆ é™¤è¯¥æ¡è®°å½•ï¼Ÿ')) {
				return true
			} else {
				// é˜»æ­¢é»˜è®¤è¡Œä¸º
				e.preventDefault()
			}
		})
	})
  </script>
</html>
